<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>body-parser | Wind</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="起风了的个人博客与学习笔记">
    
    <link rel="preload" href="/assets/css/0.styles.c1092872.css" as="style"><link rel="preload" href="/assets/js/app.2e3db3d9.js" as="script"><link rel="preload" href="/assets/js/2.65dda3ac.js" as="script"><link rel="preload" href="/assets/js/85.fb1df670.js" as="script"><link rel="prefetch" href="/assets/js/10.357b5774.js"><link rel="prefetch" href="/assets/js/100.184cd071.js"><link rel="prefetch" href="/assets/js/101.3866021b.js"><link rel="prefetch" href="/assets/js/102.b6f389c5.js"><link rel="prefetch" href="/assets/js/103.2cb86a45.js"><link rel="prefetch" href="/assets/js/104.8035c95f.js"><link rel="prefetch" href="/assets/js/105.58071765.js"><link rel="prefetch" href="/assets/js/106.e585b16a.js"><link rel="prefetch" href="/assets/js/107.b85532b3.js"><link rel="prefetch" href="/assets/js/108.a353ea24.js"><link rel="prefetch" href="/assets/js/109.b9b30406.js"><link rel="prefetch" href="/assets/js/11.079c2ba9.js"><link rel="prefetch" href="/assets/js/110.0cde913d.js"><link rel="prefetch" href="/assets/js/111.31bdaf1f.js"><link rel="prefetch" href="/assets/js/112.e7193085.js"><link rel="prefetch" href="/assets/js/113.6a815f50.js"><link rel="prefetch" href="/assets/js/114.a826c59d.js"><link rel="prefetch" href="/assets/js/115.1bbd6b0a.js"><link rel="prefetch" href="/assets/js/116.8b100930.js"><link rel="prefetch" href="/assets/js/117.d8e7f686.js"><link rel="prefetch" href="/assets/js/118.7e9f15d0.js"><link rel="prefetch" href="/assets/js/119.89659594.js"><link rel="prefetch" href="/assets/js/12.6a73bcc5.js"><link rel="prefetch" href="/assets/js/120.23d949d4.js"><link rel="prefetch" href="/assets/js/121.989e6869.js"><link rel="prefetch" href="/assets/js/122.5feb9878.js"><link rel="prefetch" href="/assets/js/123.6ea91031.js"><link rel="prefetch" href="/assets/js/124.e6cd6192.js"><link rel="prefetch" href="/assets/js/125.008b851d.js"><link rel="prefetch" href="/assets/js/126.c6b6b51a.js"><link rel="prefetch" href="/assets/js/127.c0c6173a.js"><link rel="prefetch" href="/assets/js/128.596744f0.js"><link rel="prefetch" href="/assets/js/129.52675432.js"><link rel="prefetch" href="/assets/js/13.27562c3a.js"><link rel="prefetch" href="/assets/js/130.046cbb37.js"><link rel="prefetch" href="/assets/js/131.77fe5805.js"><link rel="prefetch" href="/assets/js/132.ddaf01b1.js"><link rel="prefetch" href="/assets/js/133.7b572704.js"><link rel="prefetch" href="/assets/js/134.a5bb753b.js"><link rel="prefetch" href="/assets/js/135.0b06c726.js"><link rel="prefetch" href="/assets/js/136.42a5ef49.js"><link rel="prefetch" href="/assets/js/137.12f7f4dd.js"><link rel="prefetch" href="/assets/js/138.264e490a.js"><link rel="prefetch" href="/assets/js/139.bad5c759.js"><link rel="prefetch" href="/assets/js/14.dc51ffe2.js"><link rel="prefetch" href="/assets/js/140.0101e64d.js"><link rel="prefetch" href="/assets/js/141.3f5dcc75.js"><link rel="prefetch" href="/assets/js/142.dc421e7a.js"><link rel="prefetch" href="/assets/js/143.f36e30af.js"><link rel="prefetch" href="/assets/js/144.fb7c9a46.js"><link rel="prefetch" href="/assets/js/145.bee49609.js"><link rel="prefetch" href="/assets/js/146.aeaddf99.js"><link rel="prefetch" href="/assets/js/147.e2017cca.js"><link rel="prefetch" href="/assets/js/148.c5bef4c6.js"><link rel="prefetch" href="/assets/js/149.2cbfeae5.js"><link rel="prefetch" href="/assets/js/15.4812fd27.js"><link rel="prefetch" href="/assets/js/150.7b3aad9a.js"><link rel="prefetch" href="/assets/js/151.809252f7.js"><link rel="prefetch" href="/assets/js/152.5e8565a8.js"><link rel="prefetch" href="/assets/js/153.cc80c8db.js"><link rel="prefetch" href="/assets/js/154.0fc42f42.js"><link rel="prefetch" href="/assets/js/155.1697681c.js"><link rel="prefetch" href="/assets/js/156.f6421d21.js"><link rel="prefetch" href="/assets/js/157.7b90b7b5.js"><link rel="prefetch" href="/assets/js/158.de953b27.js"><link rel="prefetch" href="/assets/js/159.bc40b166.js"><link rel="prefetch" href="/assets/js/16.cd7c3771.js"><link rel="prefetch" href="/assets/js/160.c7814b2b.js"><link rel="prefetch" href="/assets/js/161.0a57399a.js"><link rel="prefetch" href="/assets/js/162.79baf973.js"><link rel="prefetch" href="/assets/js/163.9a1f3202.js"><link rel="prefetch" href="/assets/js/164.353103d9.js"><link rel="prefetch" href="/assets/js/165.6bc61007.js"><link rel="prefetch" href="/assets/js/166.7895afb8.js"><link rel="prefetch" href="/assets/js/167.692082b5.js"><link rel="prefetch" href="/assets/js/168.4781ef85.js"><link rel="prefetch" href="/assets/js/169.8538eee4.js"><link rel="prefetch" href="/assets/js/17.49eafbb6.js"><link rel="prefetch" href="/assets/js/170.dd5b9669.js"><link rel="prefetch" href="/assets/js/171.e670b681.js"><link rel="prefetch" href="/assets/js/172.30df864d.js"><link rel="prefetch" href="/assets/js/173.6113670d.js"><link rel="prefetch" href="/assets/js/174.8ed484e2.js"><link rel="prefetch" href="/assets/js/175.5c90b7ba.js"><link rel="prefetch" href="/assets/js/176.bc2e45bd.js"><link rel="prefetch" href="/assets/js/177.fe48b207.js"><link rel="prefetch" href="/assets/js/178.6234883e.js"><link rel="prefetch" href="/assets/js/179.553448de.js"><link rel="prefetch" href="/assets/js/18.ea171268.js"><link rel="prefetch" href="/assets/js/180.769bb573.js"><link rel="prefetch" href="/assets/js/181.8e4552c5.js"><link rel="prefetch" href="/assets/js/182.9761430c.js"><link rel="prefetch" href="/assets/js/183.082e811d.js"><link rel="prefetch" href="/assets/js/184.c167f336.js"><link rel="prefetch" href="/assets/js/185.8f32c842.js"><link rel="prefetch" href="/assets/js/186.5f2ff328.js"><link rel="prefetch" href="/assets/js/187.6de4cc20.js"><link rel="prefetch" href="/assets/js/188.e388d882.js"><link rel="prefetch" href="/assets/js/189.f52cefaa.js"><link rel="prefetch" href="/assets/js/19.d5f74352.js"><link rel="prefetch" href="/assets/js/190.c015f68f.js"><link rel="prefetch" href="/assets/js/20.c85370a3.js"><link rel="prefetch" href="/assets/js/21.6d096356.js"><link rel="prefetch" href="/assets/js/22.b08eb7e0.js"><link rel="prefetch" href="/assets/js/23.098f1ac5.js"><link rel="prefetch" href="/assets/js/24.96d1e6e6.js"><link rel="prefetch" href="/assets/js/25.69e73744.js"><link rel="prefetch" href="/assets/js/26.4aacb5c1.js"><link rel="prefetch" href="/assets/js/27.2df4926d.js"><link rel="prefetch" href="/assets/js/28.a7f4c564.js"><link rel="prefetch" href="/assets/js/29.e6b2c078.js"><link rel="prefetch" href="/assets/js/3.e3f1b501.js"><link rel="prefetch" href="/assets/js/30.293341de.js"><link rel="prefetch" href="/assets/js/31.5b49b4d4.js"><link rel="prefetch" href="/assets/js/32.0061bb69.js"><link rel="prefetch" href="/assets/js/33.0f17e027.js"><link rel="prefetch" href="/assets/js/34.f5dae4f0.js"><link rel="prefetch" href="/assets/js/35.0f6db645.js"><link rel="prefetch" href="/assets/js/36.6d88157c.js"><link rel="prefetch" href="/assets/js/37.7b63a8c7.js"><link rel="prefetch" href="/assets/js/38.0ebf6d81.js"><link rel="prefetch" href="/assets/js/39.30b3a587.js"><link rel="prefetch" href="/assets/js/4.9cd35a0b.js"><link rel="prefetch" href="/assets/js/40.2151fb6c.js"><link rel="prefetch" href="/assets/js/41.d567b987.js"><link rel="prefetch" href="/assets/js/42.d7c30226.js"><link rel="prefetch" href="/assets/js/43.3be40283.js"><link rel="prefetch" href="/assets/js/44.d16c1776.js"><link rel="prefetch" href="/assets/js/45.e530ad74.js"><link rel="prefetch" href="/assets/js/46.b9346c31.js"><link rel="prefetch" href="/assets/js/47.fc4881ab.js"><link rel="prefetch" href="/assets/js/48.81663997.js"><link rel="prefetch" href="/assets/js/49.d3f74e53.js"><link rel="prefetch" href="/assets/js/5.f9d6ad53.js"><link rel="prefetch" href="/assets/js/50.31793dc1.js"><link rel="prefetch" href="/assets/js/51.df87964d.js"><link rel="prefetch" href="/assets/js/52.a9d4b0f0.js"><link rel="prefetch" href="/assets/js/53.df8690a4.js"><link rel="prefetch" href="/assets/js/54.6880d9e6.js"><link rel="prefetch" href="/assets/js/55.df4441e7.js"><link rel="prefetch" href="/assets/js/56.f18cabea.js"><link rel="prefetch" href="/assets/js/57.e12d025d.js"><link rel="prefetch" href="/assets/js/58.08d812ab.js"><link rel="prefetch" href="/assets/js/59.d81d6d05.js"><link rel="prefetch" href="/assets/js/6.83abd156.js"><link rel="prefetch" href="/assets/js/60.cb00b6c5.js"><link rel="prefetch" href="/assets/js/61.4dead28d.js"><link rel="prefetch" href="/assets/js/62.1651aecc.js"><link rel="prefetch" href="/assets/js/63.49afe57f.js"><link rel="prefetch" href="/assets/js/64.ffd69c1f.js"><link rel="prefetch" href="/assets/js/65.dae6357a.js"><link rel="prefetch" href="/assets/js/66.63f2d3ed.js"><link rel="prefetch" href="/assets/js/67.7076b9a4.js"><link rel="prefetch" href="/assets/js/68.b22bcd3f.js"><link rel="prefetch" href="/assets/js/69.033db5fa.js"><link rel="prefetch" href="/assets/js/7.7ad3d79d.js"><link rel="prefetch" href="/assets/js/70.9affc24a.js"><link rel="prefetch" href="/assets/js/71.3a37921f.js"><link rel="prefetch" href="/assets/js/72.cea5729d.js"><link rel="prefetch" href="/assets/js/73.99ec9c15.js"><link rel="prefetch" href="/assets/js/74.23164362.js"><link rel="prefetch" href="/assets/js/75.f01fdfdb.js"><link rel="prefetch" href="/assets/js/76.a4b66f24.js"><link rel="prefetch" href="/assets/js/77.7eb7460d.js"><link rel="prefetch" href="/assets/js/78.1f919b39.js"><link rel="prefetch" href="/assets/js/79.de000184.js"><link rel="prefetch" href="/assets/js/8.18922c3e.js"><link rel="prefetch" href="/assets/js/80.6259f5be.js"><link rel="prefetch" href="/assets/js/81.5bec1644.js"><link rel="prefetch" href="/assets/js/82.801f08b8.js"><link rel="prefetch" href="/assets/js/83.1574b520.js"><link rel="prefetch" href="/assets/js/84.92bc4d2d.js"><link rel="prefetch" href="/assets/js/86.09ca4cc5.js"><link rel="prefetch" href="/assets/js/87.adbfde0a.js"><link rel="prefetch" href="/assets/js/88.f9a44acf.js"><link rel="prefetch" href="/assets/js/89.d8bdb4e6.js"><link rel="prefetch" href="/assets/js/9.69d52509.js"><link rel="prefetch" href="/assets/js/90.706a6473.js"><link rel="prefetch" href="/assets/js/91.0c4f8a41.js"><link rel="prefetch" href="/assets/js/92.aeee86f2.js"><link rel="prefetch" href="/assets/js/93.f5feedf8.js"><link rel="prefetch" href="/assets/js/94.52dcd6be.js"><link rel="prefetch" href="/assets/js/95.18b802b4.js"><link rel="prefetch" href="/assets/js/96.c317dec0.js"><link rel="prefetch" href="/assets/js/97.1baa77b7.js"><link rel="prefetch" href="/assets/js/98.c566e725.js"><link rel="prefetch" href="/assets/js/99.315d3c8c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c1092872.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Wind</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="/javascript/" class="nav-link">
  现代JS教程📝
</a></div><div class="nav-item"><a href="https://github.com/wind8866" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="/javascript/" class="nav-link">
  现代JS教程📝
</a></div><div class="nav-item"><a href="https://github.com/wind8866" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="body-parser"><a href="#body-parser" class="header-anchor">#</a> body-parser</h1> <p><a href="https://npmjs.org/package/body-parser" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/npm/v/body-parser.svg" alt="NPM Version"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://npmjs.org/package/body-parser" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/npm/dm/body-parser.svg" alt="NPM Downloads"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://travis-ci.org/expressjs/body-parser" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/travis/expressjs/body-parser/master.svg" alt="Build Status"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://coveralls.io/r/expressjs/body-parser?branch=master" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/coveralls/expressjs/body-parser/master.svg" alt="Test Coverage"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Node.js body parsing middleware.</p> <p>Parse incoming request bodies in a middleware before your handlers, available<br>
under the <code>req.body</code> property.</p> <p><strong>Note</strong> As <code>req.body</code>'s shape is based on user-controlled input, all<br>
properties and values in this object are untrusted and should be validated<br>
before trusting. For example, <code>req.body.foo.toString()</code> may fail in multiple<br>
ways, for example the <code>foo</code> property may not be there or may not be a string,<br>
and <code>toString</code> may not be a function and instead a string or other user input.</p> <p><a href="https://nodejs.org/en/docs/guides/anatomy-of-an-http-transaction/" target="_blank" rel="noopener noreferrer">Learn about the anatomy of an HTTP transaction in Node.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p><em>This does not handle multipart bodies</em>, due to their complex and typically<br>
large nature. For multipart bodies, you may be interested in the following<br>
modules:</p> <ul><li><a href="https://www.npmjs.org/package/busboy#readme" target="_blank" rel="noopener noreferrer">busboy<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and<br> <a href="https://www.npmjs.org/package/connect-busboy#readme" target="_blank" rel="noopener noreferrer">connect-busboy<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.npmjs.org/package/multiparty#readme" target="_blank" rel="noopener noreferrer">multiparty<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and<br> <a href="https://www.npmjs.org/package/connect-multiparty#readme" target="_blank" rel="noopener noreferrer">connect-multiparty<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.npmjs.org/package/formidable#readme" target="_blank" rel="noopener noreferrer">formidable<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.npmjs.org/package/multer#readme" target="_blank" rel="noopener noreferrer">multer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>This module provides the following parsers:</p> <ul><li><a href="#bodyparserjsonoptions">JSON body parser</a></li> <li><a href="#bodyparserrawoptions">Raw body parser</a></li> <li><a href="#bodyparsertextoptions">Text body parser</a></li> <li><a href="#bodyparserurlencodedoptions">URL-encoded form body parser</a></li></ul> <p>Other body parsers you might be interested in:</p> <ul><li><a href="https://www.npmjs.org/package/body#readme" target="_blank" rel="noopener noreferrer">body<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.npmjs.org/package/co-body#readme" target="_blank" rel="noopener noreferrer">co-body<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h2> <div class="language-sh extra-class"><pre class="language-sh"><code>$ <span class="token function">npm</span> <span class="token function">install</span> body-parser
</code></pre></div><h2 id="api"><a href="#api" class="header-anchor">#</a> API</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'body-parser'</span><span class="token punctuation">)</span>
</code></pre></div><p>The <code>bodyParser</code> object exposes various factories to create middlewares. All<br>
middlewares will populate the <code>req.body</code> property with the parsed body when<br>
the <code>Content-Type</code> request header matches the <code>type</code> option, or an empty<br>
object (<code>{}</code>) if there was no body to parse, the <code>Content-Type</code> was not matched,<br>
or an error occurred.</p> <p>The various errors returned by this module are described in the<br> <a href="#errors">errors section</a>.</p> <h3 id="bodyparser-json-options"><a href="#bodyparser-json-options" class="header-anchor">#</a> bodyParser.json([options])</h3> <p>Returns middleware that only parses <code>json</code> and only looks at requests where<br>
the <code>Content-Type</code> header matches the <code>type</code> option. This parser accepts any<br>
Unicode encoding of the body and supports automatic inflation of <code>gzip</code> and<br> <code>deflate</code> encodings.</p> <p>A new <code>body</code> object containing the parsed data is populated on the <code>request</code><br>
object after the middleware (i.e. <code>req.body</code>).</p> <h4 id="options"><a href="#options" class="header-anchor">#</a> Options</h4> <p>The <code>json</code> function takes an optional <code>options</code> object that may contain any of<br>
the following keys:</p> <h5 id="inflate"><a href="#inflate" class="header-anchor">#</a> inflate</h5> <p>When set to <code>true</code>, then deflated (compressed) bodies will be inflated; when<br> <code>false</code>, deflated bodies are rejected. Defaults to <code>true</code>.</p> <h5 id="limit"><a href="#limit" class="header-anchor">#</a> limit</h5> <p>Controls the maximum request body size. If this is a number, then the value<br>
specifies the number of bytes; if it is a string, the value is passed to the<br> <a href="https://www.npmjs.com/package/bytes" target="_blank" rel="noopener noreferrer">bytes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> library for parsing. Defaults<br>
to <code>'100kb'</code>.</p> <h5 id="reviver"><a href="#reviver" class="header-anchor">#</a> reviver</h5> <p>The <code>reviver</code> option is passed directly to <code>JSON.parse</code> as the second<br>
argument. You can find more information on this argument<br> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse#Example.3A_Using_the_reviver_parameter" target="_blank" rel="noopener noreferrer">in the MDN documentation about JSON.parse<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h5 id="strict"><a href="#strict" class="header-anchor">#</a> strict</h5> <p>When set to <code>true</code>, will only accept arrays and objects; when <code>false</code> will<br>
accept anything <code>JSON.parse</code> accepts. Defaults to <code>true</code>.</p> <h5 id="type"><a href="#type" class="header-anchor">#</a> type</h5> <p>The <code>type</code> option is used to determine what media type the middleware will<br>
parse. This option can be a string, array of strings, or a function. If not a<br>
function, <code>type</code> option is passed directly to the<br> <a href="https://www.npmjs.org/package/type-is#readme" target="_blank" rel="noopener noreferrer">type-is<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> library and this can<br>
be an extension name (like <code>json</code>), a mime type (like <code>application/json</code>), or<br>
a mime type with a wildcard (like <code>*/*</code> or <code>*/json</code>). If a function, the <code>type</code><br>
option is called as <code>fn(req)</code> and the request is parsed if it returns a truthy<br>
value. Defaults to <code>application/json</code>.</p> <h5 id="verify"><a href="#verify" class="header-anchor">#</a> verify</h5> <p>The <code>verify</code> option, if supplied, is called as <code>verify(req, res, buf, encoding)</code>,<br>
where <code>buf</code> is a <code>Buffer</code> of the raw request body and <code>encoding</code> is the<br>
encoding of the request. The parsing can be aborted by throwing an error.</p> <h3 id="bodyparser-raw-options"><a href="#bodyparser-raw-options" class="header-anchor">#</a> bodyParser.raw([options])</h3> <p>Returns middleware that parses all bodies as a <code>Buffer</code> and only looks at<br>
requests where the <code>Content-Type</code> header matches the <code>type</code> option. This<br>
parser supports automatic inflation of <code>gzip</code> and <code>deflate</code> encodings.</p> <p>A new <code>body</code> object containing the parsed data is populated on the <code>request</code><br>
object after the middleware (i.e. <code>req.body</code>). This will be a <code>Buffer</code> object<br>
of the body.</p> <h4 id="options-2"><a href="#options-2" class="header-anchor">#</a> Options</h4> <p>The <code>raw</code> function takes an optional <code>options</code> object that may contain any of<br>
the following keys:</p> <h5 id="inflate-2"><a href="#inflate-2" class="header-anchor">#</a> inflate</h5> <p>When set to <code>true</code>, then deflated (compressed) bodies will be inflated; when<br> <code>false</code>, deflated bodies are rejected. Defaults to <code>true</code>.</p> <h5 id="limit-2"><a href="#limit-2" class="header-anchor">#</a> limit</h5> <p>Controls the maximum request body size. If this is a number, then the value<br>
specifies the number of bytes; if it is a string, the value is passed to the<br> <a href="https://www.npmjs.com/package/bytes" target="_blank" rel="noopener noreferrer">bytes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> library for parsing. Defaults<br>
to <code>'100kb'</code>.</p> <h5 id="type-2"><a href="#type-2" class="header-anchor">#</a> type</h5> <p>The <code>type</code> option is used to determine what media type the middleware will<br>
parse. This option can be a string, array of strings, or a function.<br>
If not a function, <code>type</code> option is passed directly to the<br> <a href="https://www.npmjs.org/package/type-is#readme" target="_blank" rel="noopener noreferrer">type-is<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> library and this<br>
can be an extension name (like <code>bin</code>), a mime type (like<br> <code>application/octet-stream</code>), or a mime type with a wildcard (like <code>*/*</code> or<br> <code>application/*</code>). If a function, the <code>type</code> option is called as <code>fn(req)</code><br>
and the request is parsed if it returns a truthy value. Defaults to<br> <code>application/octet-stream</code>.</p> <h5 id="verify-2"><a href="#verify-2" class="header-anchor">#</a> verify</h5> <p>The <code>verify</code> option, if supplied, is called as <code>verify(req, res, buf, encoding)</code>,<br>
where <code>buf</code> is a <code>Buffer</code> of the raw request body and <code>encoding</code> is the<br>
encoding of the request. The parsing can be aborted by throwing an error.</p> <h3 id="bodyparser-text-options"><a href="#bodyparser-text-options" class="header-anchor">#</a> bodyParser.text([options])</h3> <p>Returns middleware that parses all bodies as a string and only looks at<br>
requests where the <code>Content-Type</code> header matches the <code>type</code> option. This<br>
parser supports automatic inflation of <code>gzip</code> and <code>deflate</code> encodings.</p> <p>A new <code>body</code> string containing the parsed data is populated on the <code>request</code><br>
object after the middleware (i.e. <code>req.body</code>). This will be a string of the<br>
body.</p> <h4 id="options-3"><a href="#options-3" class="header-anchor">#</a> Options</h4> <p>The <code>text</code> function takes an optional <code>options</code> object that may contain any of<br>
the following keys:</p> <h5 id="defaultcharset"><a href="#defaultcharset" class="header-anchor">#</a> defaultCharset</h5> <p>Specify the default character set for the text content if the charset is not<br>
specified in the <code>Content-Type</code> header of the request. Defaults to <code>utf-8</code>.</p> <h5 id="inflate-3"><a href="#inflate-3" class="header-anchor">#</a> inflate</h5> <p>When set to <code>true</code>, then deflated (compressed) bodies will be inflated; when<br> <code>false</code>, deflated bodies are rejected. Defaults to <code>true</code>.</p> <h5 id="limit-3"><a href="#limit-3" class="header-anchor">#</a> limit</h5> <p>Controls the maximum request body size. If this is a number, then the value<br>
specifies the number of bytes; if it is a string, the value is passed to the<br> <a href="https://www.npmjs.com/package/bytes" target="_blank" rel="noopener noreferrer">bytes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> library for parsing. Defaults<br>
to <code>'100kb'</code>.</p> <h5 id="type-3"><a href="#type-3" class="header-anchor">#</a> type</h5> <p>The <code>type</code> option is used to determine what media type the middleware will<br>
parse. This option can be a string, array of strings, or a function. If not<br>
a function, <code>type</code> option is passed directly to the<br> <a href="https://www.npmjs.org/package/type-is#readme" target="_blank" rel="noopener noreferrer">type-is<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> library and this can<br>
be an extension name (like <code>txt</code>), a mime type (like <code>text/plain</code>), or a mime<br>
type with a wildcard (like <code>*/*</code> or <code>text/*</code>). If a function, the <code>type</code><br>
option is called as <code>fn(req)</code> and the request is parsed if it returns a<br>
truthy value. Defaults to <code>text/plain</code>.</p> <h5 id="verify-3"><a href="#verify-3" class="header-anchor">#</a> verify</h5> <p>The <code>verify</code> option, if supplied, is called as <code>verify(req, res, buf, encoding)</code>,<br>
where <code>buf</code> is a <code>Buffer</code> of the raw request body and <code>encoding</code> is the<br>
encoding of the request. The parsing can be aborted by throwing an error.</p> <h3 id="bodyparser-urlencoded-options"><a href="#bodyparser-urlencoded-options" class="header-anchor">#</a> bodyParser.urlencoded([options])</h3> <p>Returns middleware that only parses <code>urlencoded</code> bodies and only looks at<br>
requests where the <code>Content-Type</code> header matches the <code>type</code> option. This<br>
parser accepts only UTF-8 encoding of the body and supports automatic<br>
inflation of <code>gzip</code> and <code>deflate</code> encodings.</p> <p>A new <code>body</code> object containing the parsed data is populated on the <code>request</code><br>
object after the middleware (i.e. <code>req.body</code>). This object will contain<br>
key-value pairs, where the value can be a string or array (when <code>extended</code> is<br> <code>false</code>), or any type (when <code>extended</code> is <code>true</code>).</p> <h4 id="options-4"><a href="#options-4" class="header-anchor">#</a> Options</h4> <p>The <code>urlencoded</code> function takes an optional <code>options</code> object that may contain<br>
any of the following keys:</p> <h5 id="extended"><a href="#extended" class="header-anchor">#</a> extended</h5> <p>The <code>extended</code> option allows to choose between parsing the URL-encoded data<br>
with the <code>querystring</code> library (when <code>false</code>) or the <code>qs</code> library (when<br> <code>true</code>). The &quot;extended&quot; syntax allows for rich objects and arrays to be<br>
encoded into the URL-encoded format, allowing for a JSON-like experience<br>
with URL-encoded. For more information, please<br> <a href="https://www.npmjs.org/package/qs#readme" target="_blank" rel="noopener noreferrer">see the qs library<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Defaults to <code>true</code>, but using the default has been deprecated. Please<br>
research into the difference between <code>qs</code> and <code>querystring</code> and choose the<br>
appropriate setting.</p> <h5 id="inflate-4"><a href="#inflate-4" class="header-anchor">#</a> inflate</h5> <p>When set to <code>true</code>, then deflated (compressed) bodies will be inflated; when<br> <code>false</code>, deflated bodies are rejected. Defaults to <code>true</code>.</p> <h5 id="limit-4"><a href="#limit-4" class="header-anchor">#</a> limit</h5> <p>Controls the maximum request body size. If this is a number, then the value<br>
specifies the number of bytes; if it is a string, the value is passed to the<br> <a href="https://www.npmjs.com/package/bytes" target="_blank" rel="noopener noreferrer">bytes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> library for parsing. Defaults<br>
to <code>'100kb'</code>.</p> <h5 id="parameterlimit"><a href="#parameterlimit" class="header-anchor">#</a> parameterLimit</h5> <p>The <code>parameterLimit</code> option controls the maximum number of parameters that<br>
are allowed in the URL-encoded data. If a request contains more parameters<br>
than this value, a 413 will be returned to the client. Defaults to <code>1000</code>.</p> <h5 id="type-4"><a href="#type-4" class="header-anchor">#</a> type</h5> <p>The <code>type</code> option is used to determine what media type the middleware will<br>
parse. This option can be a string, array of strings, or a function. If not<br>
a function, <code>type</code> option is passed directly to the<br> <a href="https://www.npmjs.org/package/type-is#readme" target="_blank" rel="noopener noreferrer">type-is<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> library and this can<br>
be an extension name (like <code>urlencoded</code>), a mime type (like<br> <code>application/x-www-form-urlencoded</code>), or a mime type with a wildcard (like<br> <code>*/x-www-form-urlencoded</code>). If a function, the <code>type</code> option is called as<br> <code>fn(req)</code> and the request is parsed if it returns a truthy value. Defaults<br>
to <code>application/x-www-form-urlencoded</code>.</p> <h5 id="verify-4"><a href="#verify-4" class="header-anchor">#</a> verify</h5> <p>The <code>verify</code> option, if supplied, is called as <code>verify(req, res, buf, encoding)</code>,<br>
where <code>buf</code> is a <code>Buffer</code> of the raw request body and <code>encoding</code> is the<br>
encoding of the request. The parsing can be aborted by throwing an error.</p> <h2 id="errors"><a href="#errors" class="header-anchor">#</a> Errors</h2> <p>The middlewares provided by this module create errors depending on the error<br>
condition during parsing. The errors will typically have a <code>status</code>/<code>statusCode</code><br>
property that contains the suggested HTTP response code, an <code>expose</code> property<br>
to determine if the <code>message</code> property should be displayed to the client, a<br> <code>type</code> property to determine the type of error without matching against the<br> <code>message</code>, and a <code>body</code> property containing the read body, if available.</p> <p>The following are the common errors emitted, though any error can come through<br>
for various reasons.</p> <h3 id="content-encoding-unsupported"><a href="#content-encoding-unsupported" class="header-anchor">#</a> content encoding unsupported</h3> <p>This error will occur when the request had a <code>Content-Encoding</code> header that<br>
contained an encoding but the &quot;inflation&quot; option was set to <code>false</code>. The<br> <code>status</code> property is set to <code>415</code>, the <code>type</code> property is set to<br> <code>'encoding.unsupported'</code>, and the <code>charset</code> property will be set to the<br>
encoding that is unsupported.</p> <h3 id="request-aborted"><a href="#request-aborted" class="header-anchor">#</a> request aborted</h3> <p>This error will occur when the request is aborted by the client before reading<br>
the body has finished. The <code>received</code> property will be set to the number of<br>
bytes received before the request was aborted and the <code>expected</code> property is<br>
set to the number of expected bytes. The <code>status</code> property is set to <code>400</code><br>
and <code>type</code> property is set to <code>'request.aborted'</code>.</p> <h3 id="request-entity-too-large"><a href="#request-entity-too-large" class="header-anchor">#</a> request entity too large</h3> <p>This error will occur when the request body's size is larger than the &quot;limit&quot;<br>
option. The <code>limit</code> property will be set to the byte limit and the <code>length</code><br>
property will be set to the request body's length. The <code>status</code> property is<br>
set to <code>413</code> and the <code>type</code> property is set to <code>'entity.too.large'</code>.</p> <h3 id="request-size-did-not-match-content-length"><a href="#request-size-did-not-match-content-length" class="header-anchor">#</a> request size did not match content length</h3> <p>This error will occur when the request's length did not match the length from<br>
the <code>Content-Length</code> header. This typically occurs when the request is malformed,<br>
typically when the <code>Content-Length</code> header was calculated based on characters<br>
instead of bytes. The <code>status</code> property is set to <code>400</code> and the <code>type</code> property<br>
is set to <code>'request.size.invalid'</code>.</p> <h3 id="stream-encoding-should-not-be-set"><a href="#stream-encoding-should-not-be-set" class="header-anchor">#</a> stream encoding should not be set</h3> <p>This error will occur when something called the <code>req.setEncoding</code> method prior<br>
to this middleware. This module operates directly on bytes only and you cannot<br>
call <code>req.setEncoding</code> when using this module. The <code>status</code> property is set to<br> <code>500</code> and the <code>type</code> property is set to <code>'stream.encoding.set'</code>.</p> <h3 id="too-many-parameters"><a href="#too-many-parameters" class="header-anchor">#</a> too many parameters</h3> <p>This error will occur when the content of the request exceeds the configured<br> <code>parameterLimit</code> for the <code>urlencoded</code> parser. The <code>status</code> property is set to<br> <code>413</code> and the <code>type</code> property is set to <code>'parameters.too.many'</code>.</p> <h3 id="unsupported-charset-bogus"><a href="#unsupported-charset-bogus" class="header-anchor">#</a> unsupported charset &quot;BOGUS&quot;</h3> <p>This error will occur when the request had a charset parameter in the<br> <code>Content-Type</code> header, but the <code>iconv-lite</code> module does not support it OR the<br>
parser does not support it. The charset is contained in the message as well<br>
as in the <code>charset</code> property. The <code>status</code> property is set to <code>415</code>, the<br> <code>type</code> property is set to <code>'charset.unsupported'</code>, and the <code>charset</code> property<br>
is set to the charset that is unsupported.</p> <h3 id="unsupported-content-encoding-bogus"><a href="#unsupported-content-encoding-bogus" class="header-anchor">#</a> unsupported content encoding &quot;bogus&quot;</h3> <p>This error will occur when the request had a <code>Content-Encoding</code> header that<br>
contained an unsupported encoding. The encoding is contained in the message<br>
as well as in the <code>encoding</code> property. The <code>status</code> property is set to <code>415</code>,<br>
the <code>type</code> property is set to <code>'encoding.unsupported'</code>, and the <code>encoding</code><br>
property is set to the encoding that is unsupported.</p> <h2 id="examples"><a href="#examples" class="header-anchor">#</a> Examples</h2> <h3 id="express-connect-top-level-generic"><a href="#express-connect-top-level-generic" class="header-anchor">#</a> Express/Connect top-level generic</h3> <p>This example demonstrates adding a generic JSON and URL-encoded parser as a<br>
top-level middleware, which will parse the bodies of all incoming requests.<br>
This is the simplest setup.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'body-parser'</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// parse application/x-www-form-urlencoded</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span> extended<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// parse application/json</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Content-Type'</span><span class="token punctuation">,</span> <span class="token string">'text/plain'</span><span class="token punctuation">)</span>
  res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'you posted:\n'</span><span class="token punctuation">)</span>
  res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="express-route-specific"><a href="#express-route-specific" class="header-anchor">#</a> Express route-specific</h3> <p>This example demonstrates adding body parsers specifically to the routes that<br>
need them. In general, this is the most recommended way to use body-parser with<br>
Express.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'body-parser'</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// create application/json parser</span>
<span class="token keyword">var</span> jsonParser <span class="token operator">=</span> bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// create application/x-www-form-urlencoded parser</span>
<span class="token keyword">var</span> urlencodedParser <span class="token operator">=</span> bodyParser<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span> extended<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// POST /login gets urlencoded bodies</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">,</span> urlencodedParser<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'welcome, '</span> <span class="token operator">+</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>username<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// POST /api/users gets JSON bodies</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/api/users'</span><span class="token punctuation">,</span> jsonParser<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// create user in req.body</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="change-accepted-type-for-parsers"><a href="#change-accepted-type-for-parsers" class="header-anchor">#</a> Change accepted type for parsers</h3> <p>All the parsers accept a <code>type</code> option which allows you to change the<br> <code>Content-Type</code> that the middleware will parse.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'body-parser'</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// parse various different custom JSON types as JSON</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'application/*+json'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// parse some custom thing into a Buffer</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">raw</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'application/vnd.custom-type'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// parse an HTML body into a string</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'text/html'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="license"><a href="#license" class="header-anchor">#</a> License</h2> <p><a href="LICENSE">MIT</a></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2e3db3d9.js" defer></script><script src="/assets/js/2.65dda3ac.js" defer></script><script src="/assets/js/85.fb1df670.js" defer></script>
  </body>
</html>
