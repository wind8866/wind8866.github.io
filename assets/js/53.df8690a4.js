(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{411:function(t,a,r){"use strict";r.r(a);var e=r(44),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("p",[t._v("[toc]"),r("br"),t._v("\n该文章记录数字的计算原理")]),t._v(" "),r("h2",{attrs:{id:"概览"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#概览"}},[t._v("#")]),t._v(" 概览")]),t._v(" "),r("p",[t._v("JS中所有的数值都是以64位小数存储的，存储规则遵循IEEE 754"),r("br"),t._v("\n某些运算只有整数才能完成，此时 JavaScript 会自动把64位浮点数，转成32位整数，然后再进行运算。"),r("br"),t._v("\n小数点前的数字多于21位或小数点后的零多于5个自动将其转化为科学技术法表示。")]),t._v(" "),r("h2",{attrs:{id:"问题"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[t._v("#")]),t._v(" 问题")]),t._v(" "),r("ul",[r("li",[t._v("[ ] 数值是怎样存储的?（参考：JavaScript 浮点数陷阱及解法）")]),t._v(" "),r("li",[t._v("[ ] 如何避免精度问题？")]),t._v(" "),r("li",[t._v("[ ] 大数危机及如何避免")])]),t._v(" "),r("h2",{attrs:{id:"待阅读"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#待阅读"}},[t._v("#")]),t._v(" 待阅读")]),t._v(" "),r("h2",{attrs:{id:"问题解答"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#问题解答"}},[t._v("#")]),t._v(" 问题解答")]),t._v(" "),r("h4",{attrs:{id:"为什么0-1-0-2-0-300000000004"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#为什么0-1-0-2-0-300000000004"}},[t._v("#")]),t._v(" 为什么0.1+0.2=0.300000000004？")]),t._v(" "),r("p",[t._v("计算机中是以二进制保存数的，JS中使用64位表示数值，JS遵循IEEE 754规范。")]),t._v(" "),r("p",[t._v("原因：")]),t._v(" "),r("ul",[r("li",[t._v("使用二进制表达十进制的小数时，某些数字无法被有限位的二进制小数表示")]),t._v(" "),r("li",[t._v("单精度和双精度的浮点数只包括 7 位或者 15 位的有效小数位，存储需要无限位表示的小数时只能存储近似值")])]),t._v(" "),r("h5",{attrs:{id:"_1、十进制数转换成二进制数"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1、十进制数转换成二进制数"}},[t._v("#")]),t._v(" 1、十进制数转换成二进制数")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("1(10) = 2^0 = 1(2)\n\n2(10) = 2^1 = 10(2)\n\n3(10) = 2^1 + 2^0 = 11(2)\n\n0.5(10) = 2^-1 = 0.1(2)\n\n0.25(10) = 2^-2 = 0.01(2)\n\n0.75(10) = 2^-1 + 2^-2 = 0.11(2)\n")])])]),r("h5",{attrs:{id:"_2、计算机如何表示二进制数"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2、计算机如何表示二进制数"}},[t._v("#")]),t._v(" 2、计算机如何表示二进制数")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("// float32: 1位符号, 8位指数(256个数字表示[-127, 128]), 23位小数\n// float64: 1位符号, 11位指数(2048个数字表示[-1023, 1024]), 52位小数\n\n1(10)\n0 0(127) 0(10进制表示计算规则)\n0 01111111 00000000000000000000000(32float)\n0 01111111111 0000000000000000000000000000000000000000000000000000(64float)\n\n2(10)\n0 1(128) 0(10进制表示计算规则)\n0 10000000 00000000000000000000000(32float)\n0 10000000000 0000000000000000000000000000000000000000000000000000(64float)\n\n0.5(10)\n0 -1(126) 0(10进制表示计算规则)\n0 01111110 00000000000000000000000(32float)\n0 01111111110 0000000000000000000000000000000000000000000000000000(64float)\n\n0.25(10)\n0 -2(125) 0(10进制表示计算规则)\n0 01111101 00000000000000000000000(32float)\n0 01111111101 0000000000000000000000000000000000000000000000000000(64float)\n\n0.75(10)\n0 -1(126) 1(10进制表示计算规则：1.5 * 2 ** -1)\n0 01111110 10000000000000000000000(32float)\n0 01111111110 1000000000000000000000000000000000000000000000000000(64float)\n")])])]),r("h5",{attrs:{id:"_3、计算机如何计算二进制数"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3、计算机如何计算二进制数"}},[t._v("#")]),t._v(" 3、计算机如何计算二进制数")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://draveness.me/whys-the-design-decimal-and-rational/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://draveness.me/whys-the-design-decimal-and-rational/"),r("OutboundLink")],1),r("br"),t._v(" "),r("a",{attrs:{href:"https://blog.csdn.net/tercel_zhang/article/details/52537726",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://blog.csdn.net/tercel_zhang/article/details/52537726"),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("参考：")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://draveness.me/whys-the-design-floating-point-arithmetic",target:"_blank",rel:"noopener noreferrer"}},[t._v("为什么 0.1 + 0.2 = 0.300000004"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"http://www.binaryconvert.com/result_double.html?decimal=049",target:"_blank",rel:"noopener noreferrer"}},[t._v("工具展示二进制码位"),r("OutboundLink")],1)])]),t._v(" "),r("h4",{attrs:{id:"数值是怎样存储的"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#数值是怎样存储的"}},[t._v("#")]),t._v(" 数值是怎样存储的?")]),t._v(" "),r("p",[r("a",{attrs:{href:"http://www.binaryconvert.com/convert_double.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("工具"),r("OutboundLink")],1)]),t._v(" "),r("h4",{attrs:{id:"能表示的整数范围"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#能表示的整数范围"}},[t._v("#")]),t._v(" 能表示的整数范围")]),t._v(" "),r("p",[t._v("指数部分一共11个二进制位，")])])}),[],!1,null,null,null);a.default=n.exports}}]);