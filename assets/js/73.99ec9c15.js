(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{434:function(e,t,n){"use strict";n.r(t);var _=n(44),v=Object(_.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h2",{attrs:{id:"todo"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#todo"}},[e._v("#")]),e._v(" TODO")]),e._v(" "),n("ul",[n("li",[e._v("[ ] 1.7 修改文档")]),e._v(" "),n("li",[e._v("[ ] 1.9 元素大小和滚动")]),e._v(" "),n("li",[e._v("[x] 1.11 坐标")])]),e._v(" "),n("hr"),e._v(" "),n("hr"),e._v(" "),n("h2",{attrs:{id:"_1-1-浏览器环境-规格"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-浏览器环境-规格"}},[e._v("#")]),e._v(" 1.1 浏览器环境，规格")]),e._v(" "),n("ul",[n("li",[e._v("window\n"),n("ul",[n("li",[e._v("DOM")]),e._v(" "),n("li",[e._v("BOM")]),e._v(" "),n("li",[e._v("JavaScript")])])])]),e._v(" "),n("p",[e._v("规范："),n("br"),e._v(" "),n("a",{attrs:{href:"https://dom.spec.whatwg.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("DOM"),n("OutboundLink")],1),e._v(": wathwg，描述文档结构，操作，事件"),n("br"),e._v(" "),n("a",{attrs:{href:"https://www.w3.org/TR/cssom-1/",target:"_blank",rel:"noopener noreferrer"}},[e._v("CSSOM"),n("OutboundLink")],1),e._v(": 描述样式表和样式规则"),n("br"),e._v(" "),n("a",{attrs:{href:"https://html.spec.whatwg.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("HTML"),n("OutboundLink")],1),e._v(": 描述 HTML 语言（例如标签）以及 BOM（浏览器对象模型）")]),e._v(" "),n("h2",{attrs:{id:"_1-2-dom-树"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-dom-树"}},[e._v("#")]),e._v(" 1.2 DOM 树")]),e._v(" "),n("p",[e._v("HTML 会被解析为 DOM 树，最常见的类型为：文本节点、元素节点、Document节点、注释节点。")]),e._v(" "),n("h2",{attrs:{id:"_1-3-遍历-dom-树"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-遍历-dom-树"}},[e._v("#")]),e._v(" 1.3 遍历 DOM 树")]),e._v(" "),n("p",[e._v("html: document.documentElement"),n("br"),e._v("\nbody: document.body"),n("br"),e._v("\nhead: document.head"),n("br"),e._v("\nchildNodes、firstChild、lastChild"),n("br"),e._v("\nchildren、firstElementChild、lastElementChild"),n("br"),e._v("\nnextSibling、previousSibling、parentNode"),n("br"),e._v("\nnextElementSibling、previousElementSibling、parentElement")]),e._v(" "),n("p",[e._v("某些类型的 DOM 元素提供了单独的导航功能，如 table")]),e._v(" "),n("p",[n("strong",[e._v("注意：")]),n("br"),e._v("\nchildNodes 是实时的"),n("br"),e._v("\nparentNode 与 parentElementNode 的唯一区别是：document.documentElement.parentElementNode 为 null")]),e._v(" "),n("h2",{attrs:{id:"_1-4-搜索-getelement-queryselector"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-搜索-getelement-queryselector"}},[e._v("#")]),e._v(" 1.4 搜索：getElement*，querySelector*")]),e._v(" "),n("ul",[n("li",[n("p",[e._v("querySelector")])]),e._v(" "),n("li",[n("p",[e._v("querySelectorAll")])]),e._v(" "),n("li",[n("p",[e._v("getElementById")])]),e._v(" "),n("li",[n("p",[e._v("getElementsByTagName")])]),e._v(" "),n("li",[n("p",[e._v("getElementsByClassName")])]),e._v(" "),n("li",[n("p",[e._v("getElementsByName")])]),e._v(" "),n("li",[n("p",[e._v("elem.matches(css)：检查当前元素是否匹配")])]),e._v(" "),n("li",[n("p",[e._v("elem.closest(css)：向祖先元素查找最近的匹配")])])]),e._v(" "),n("p",[n("strong",[e._v("注意：")]),n("br"),e._v("\n实时集合：getElementsByTagName、getElementsByClassName、getElementsByName"),n("br"),e._v("\n静态集合：querySelector、querySelectorAll、getElementById")]),e._v(" "),n("h2",{attrs:{id:"_1-5-节点属性-type-tag-和-content"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-节点属性-type-tag-和-content"}},[e._v("#")]),e._v(" 1.5 节点属性：type，tag 和 content")]),e._v(" "),n("p",[e._v("用 TypeScript 描述 DOM 节点的继承关系")]),e._v(" "),n("p",[e._v("EventTarget：DOM节点支持事件"),n("br"),e._v("\nNode：提供节点间导航"),n("br"),e._v("\nElement：元素级导航，搜索方法")]),e._v(" "),n("p",[e._v("所有元素都有的通用属性："),n("br"),e._v("\nnodeType：1: 元素、3: 文本、9: document"),n("br"),e._v("\ntageName、nodeName：当前元素/节点名字，大写"),n("br"),e._v("\ninnerHTML、outerHTML：元素节点内容读取"),n("br"),e._v("\nnodeValue、data：文本节点内容读取"),n("br"),e._v("\ntextContent: 安全写入"),n("br"),e._v("\nhidden: 是否可见")]),e._v(" "),n("p",[n("strong",[e._v("注意：")]),n("br"),e._v("\ninnerHTML 与 outerHTML 的区别是 outerHTML 只是移除 DOM 节点，而不是像 innerHTML 一样直接替代。所以移除后的 DOM 节点仍可操作，但我们不应该这么做。")]),e._v(" "),n("p",[n("strong",[e._v("问题：")])]),e._v(" "),n("ul",[n("li",[e._v("[ ] document 属于哪一类？")]),e._v(" "),n("li",[e._v("[ ] 它位于 DOM 层次结构（hierarchy）中的什么位置？")]),e._v(" "),n("li",[e._v("[ ] 它继承自 Node 还是 Element，或者可能是 HTMLElement？")]),e._v(" "),n("li",[e._v("[ ] 其他的元素的所有属性")])]),e._v(" "),n("h2",{attrs:{id:"_1-6-特性和属性-attributes-and-properties"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-特性和属性-attributes-and-properties"}},[e._v("#")]),e._v(" 1.6 特性和属性（Attributes and properties）")]),e._v(" "),n("p",[e._v("大多数标准的 HTML 特性（attributes）会自动变成 DOM 对象的属性（properties）"),n("br"),e._v("\n非标准的 HTML 特性不会变成 DOM 对象的属性。"),n("br"),e._v("\n大部分标准的 HTML 特性被修改，对应的 DOM 对象属性也会自动更新，反之亦然（除了几个特例）。"),n("br"),e._v("\n非标准属性建议使用 data-info，在 JS 中使用 elem.dataset.info 获取或设置。")]),e._v(" "),n("p",[e._v("elem.hasAttribute(name)"),n("br"),e._v("\nelem.getAttribute(name)"),n("br"),e._v("\nelem.setAttribute(name)"),n("br"),e._v("\nelem.removeAttribute(name)"),n("br"),e._v("\nelem.attributes")]),e._v(" "),n("p",[n("strong",[e._v("特例")]),n("br"),e._v("\ninput 的 页面显示、"),n("code",[e._v("<input>")]),e._v(" 的 value 特性、input.value 属性之间的关系，在"),n("RouterLink",{attrs:{to:"/javascript/Document/1.6.html"}},[e._v("1.6.html")])],1),e._v(" "),n("p",[n("strong",[e._v("注意：")]),n("br"),e._v("\nHTML 中，属性名大小写是不敏感的，特性名都是字符串。"),n("br"),e._v("\n但是 DOM 属性可以是字符串、布尔值，甚至对象。")]),e._v(" "),n("h2",{attrs:{id:"_1-7-修改文档-document"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-7-修改文档-document"}},[e._v("#")]),e._v(" 1.7 修改文档（document）")]),e._v(" "),n("ul",[n("li",[e._v("创建新节点\n"),n("ul",[n("li",[e._v("document.createElement(tagName)")]),e._v(" "),n("li",[e._v("document.createTextNode(text)")]),e._v(" "),n("li",[e._v("node.clone(bool): 是否克隆子元素")])])]),e._v(" "),n("li",[e._v("插入和移除节点\n"),n("ul",[n("li",[e._v("node.append(nodes | text)")]),e._v(" "),n("li",[e._v("node.prepend(nodes | text)")]),e._v(" "),n("li",[e._v("node.before(nodes | text)")]),e._v(" "),n("li",[e._v("node.after(nodes | text)")]),e._v(" "),n("li",[e._v("node.replaceWith(nodex | text)")]),e._v(" "),n("li",[e._v("node.remove(childNode)")])])]),e._v(" "),n("li",[e._v("在 html 中给定一些 HTML\n"),n("ul",[n("li",[e._v("node.insertAdjacentHTML(where, html)\n"),n("ul",[n("li",[e._v("beforebegin")]),e._v(" "),n("li",[e._v("afterbegin")]),e._v(" "),n("li",[e._v("beforeend")]),e._v(" "),n("li",[e._v("afterend")])])]),e._v(" "),n("li",[e._v("node.insertAdjecentText")]),e._v(" "),n("li",[e._v("node.insertAdjecentElement")])])]),e._v(" "),n("li",[e._v("过时方法\n"),n("ul",[n("li",[e._v("parent.appendChild")]),e._v(" "),n("li",[e._v("parent.insertBefore")]),e._v(" "),n("li",[e._v("parent.removeChild")]),e._v(" "),n("li",[e._v("parent.replaceChild")])])]),e._v(" "),n("li",[e._v("其他\n"),n("ul",[n("li",[e._v("new DocumentFragment()")]),e._v(" "),n("li",[e._v("document.wirite(html) 不是去构建 dom 树，而是直接改变html文档")])])])]),e._v(" "),n("h2",{attrs:{id:"_1-8-样式和类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-8-样式和类"}},[e._v("#")]),e._v(" 1.8 样式和类")]),e._v(" "),n("p",[e._v("相较于将样式写入 style 属性，我们应该首选通过 CSS 类的方式来添加样式。仅当类“无法处理”时，才应选择使用 style 属性的方式。"),n("br"),e._v("\nCSS 中有 "),n("code",[e._v("计算 (computed) 值")]),e._v(" 和 "),n("code",[e._v("解析 (resolved) 值")]),e._v(" 两种概念。")]),e._v(" "),n("p",[e._v("elem.className"),n("br"),e._v("\nelem.classList"),n("br"),e._v("\nadd"),n("br"),e._v("\ntoggle"),n("br"),e._v("\ncontains"),n("br"),e._v("\nelem.style"),n("br"),e._v("\nelem.style.cssText"),n("br"),e._v("\ngetComputedStyle(elem, pseudo)")]),e._v(" "),n("p",[n("strong",[e._v("注意：")]),n("br"),e._v("\n为了保护用户隐私，"),n("code",[e._v("getComputedStyle(elem, ':visited')")]),e._v(" 获取的并不是 "),n("code",[e._v(":visited")]),e._v(" 的样式。同样 "),n("code",[e._v(":visited")]),e._v(" 也不允许更改几何形状的样式。")]),e._v(" "),n("h2",{attrs:{id:"_1-9-元素大小和滚动"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-9-元素大小和滚动"}},[e._v("#")]),e._v(" 1.9 元素大小和滚动")]),e._v(" "),n("p",[e._v("以下属性均返回数字或null")]),e._v(" "),n("ul",[n("li",[e._v("外部\n"),n("ul",[n("li",[e._v("offsetParent\n"),n("ul",[n("li",[e._v("CSS 定位的（position 为 absolute，relative 或 fixed），")]),e._v(" "),n("li",[e._v("或 "),n("code",[e._v("<td>")]),e._v("，"),n("code",[e._v("<th>")]),e._v("，"),n("code",[e._v("<table>")]),e._v("，")]),e._v(" "),n("li",[e._v("或 "),n("code",[e._v("<body>")])])])]),e._v(" "),n("li",[e._v("offsetTop: 元素边框最外侧距离最近的父元素的距离")]),e._v(" "),n("li",[e._v("offsetLeft")]),e._v(" "),n("li",[e._v("offsetWidth: 包括边框最左侧到最右侧的距离")]),e._v(" "),n("li",[e._v("offsetHeight: 类上")])])]),e._v(" "),n("li",[e._v("自身\n"),n("ul",[n("li",[e._v("clientTop: 元素内容距离边框最上侧（包括边框与滚动条）")]),e._v(" "),n("li",[e._v("clientLeft: 类上")]),e._v(" "),n("li",[e._v("clientWidth: 元素内容的最左侧到最右侧（不包含滚动条）")]),e._v(" "),n("li",[e._v("clientHeight: 类上")])])]),e._v(" "),n("li",[e._v("滚动\n"),n("ul",[n("li",[e._v("scrollTop: 竖直方向滚动的距离，可写")]),e._v(" "),n("li",[e._v("scrollLeft: 水平方向上滚动的距离，可写")]),e._v(" "),n("li",[e._v("scrollWidth: 文档内容的总宽度")]),e._v(" "),n("li",[e._v("scrollHeight: 文档内容的总高度")])])])]),e._v(" "),n("p",[e._v("不使用 width/height 的原因：1、box-sizing 影响 2、可能为 auto 3、滚动条会有bug")]),e._v(" "),n("h2",{attrs:{id:"_1-10-window-大小和滚动"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-10-window-大小和滚动"}},[e._v("#")]),e._v(" 1.10 Window 大小和滚动")]),e._v(" "),n("ul",[n("li",[e._v("文档可见部分（不包括滚动条）\n"),n("ul",[n("li",[e._v("document.documentElement.clientWidth/clientHeight")])])]),e._v(" "),n("li",[e._v("文档可见部分加上滚动条\n"),n("ul",[n("li",[e._v("widow.innerWidth/innerHeight")])])]),e._v(" "),n("li",[e._v("整个文档的宽高\n"),n("ul",[n("li",[e._v("见下面")])])]),e._v(" "),n("li",[e._v("获得当前滚动\n"),n("ul",[n("li",[e._v("window.pageYOffset/pageXOffset")])])]),e._v(" "),n("li",[e._v("相对滚动\n"),n("ul",[n("li",[e._v("window.scrollBy(x, y)")])])]),e._v(" "),n("li",[e._v("绝对滚动\n"),n("ul",[n("li",[e._v("window.scrollTo(x, y)")])])]),e._v(" "),n("li",[e._v("滚动使 elem 可见\n"),n("ul",[n("li",[e._v("elem.scrollIntoView(bool)\n"),n("ul",[n("li",[e._v("true(默认): 窗口顶部")]),e._v(" "),n("li",[e._v("false: 窗口底部")])])])])]),e._v(" "),n("li",[e._v("锁定滚动\n"),n("ul",[n("li",[e._v("将 style 的 overflow 设置为 hidden")])])])]),e._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("const")]),e._v(" scrollHeight "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("max")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("\n  document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("scrollHeight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("documentElement"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("scrollHeight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("offsetHeight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("documentElement"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("offsetHeight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("clientHeight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("documentElement"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("clientHeight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),n("h2",{attrs:{id:"_1-11-坐标"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-11-坐标"}},[e._v("#")]),e._v(" 1.11 坐标")]),e._v(" "),n("p",[e._v("浏览器中元素的定位有两套坐标系统，一种是相对于浏览器窗口，相当于 CSS 的 "),n("code",[e._v("position: fixed")]),e._v("，还有一种是相对于文档，与 文档根 document root 中的 "),n("code",[e._v("position: absolute")]),e._v(" 类似。")]),e._v(" "),n("ul",[n("li",[e._v("相对于窗口(elem.getBoundingClientRect)\n"),n("ul",[n("li",[e._v("x/y")]),e._v(" "),n("li",[e._v("width/height")]),e._v(" "),n("li",[e._v("top/left")]),e._v(" "),n("li",[e._v("bottom/right: 元素最右侧相对于窗口最左侧的距离")])])]),e._v(" "),n("li",[e._v("document.elementFromPoint(x, y)\n"),n("ul",[n("li",[e._v("返回指定坐标处嵌套最多的元素")]),e._v(" "),n("li",[e._v("如果为负值，则直接返回null")])])]),e._v(" "),n("li",[e._v("文档坐标\n"),n("ul",[n("li",[e._v("pageY = 相对于窗口的Y + 文竖直滚动出部分的高度")]),e._v(" "),n("li",[e._v("pageY = elem.getboundingClientRect().top + window.pageYOffset")]),e._v(" "),n("li",[e._v("pageX = 相对于窗口的X + 文档水平滚动出部分的高度")]),e._v(" "),n("li",[e._v("pageX = elem.getboundingClientRect().left + window.pageXOffset")])])])]),e._v(" "),n("p",[n("img",{attrs:{src:"https://zh.javascript.info/article/coordinates/coordinates.svg",alt:""}})])])}),[],!1,null,null,null);t.default=v.exports}}]);